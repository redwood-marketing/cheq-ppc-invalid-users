"use strict";const megaMenu={initialized:!1,megaHeader:null,menuItems:null,megaMenu:null,subMenus:null,megaMenuHeight:null,currentMenu:"",currentType:"",extraMenu:null,mobileTarget:null,bodyY:0,overlay:null,backBtn:function(){this.megaHeader.querySelector(".mega_navigation__back").addEventListener("click",a=>{a.preventDefault(),this.closeMenu()})},toggleBtn:function(){this.megaHeader.querySelector(".mega_navigation__toggle").addEventListener("click",a=>{a.preventDefault(),this.closeMenu(),this.megaHeader.classList.toggle("menu-visible"),this.lockBody(this.megaHeader.classList.contains("menu-visible"),!0)})},lockBody:function(a,b){a?(this.bodyY=document.documentElement.scrollTop||0,document.body.style.setProperty("position","fixed"),document.body.style.setProperty("top","-".concat(this.bodyY,"px")),document.body.style.setProperty("width","100%"),document.documentElement.style.setProperty("scroll-behavior","auto"),this.megaHeader.insertAdjacentElement("afterend",this.overlay)):(document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),b&&(document.documentElement.scrollTop=parseInt(this.bodyY)),document.documentElement.style.removeProperty("scroll-behavior"),this.overlay.remove())},findSibling:function(a,b){for(let c=b.nextElementSibling;c;){if(c.dataset.menuTarget===a)return c;c=c.nextElementSibling}},resizeMega:function(a){if(!this.isMobile())return;const b=window.innerHeight,c=a.offsetHeight;this.megaMenuHeight=this.megaMenu.offsetHeight,this.megaMenu.scrollTo(0,0),b>=this.megaMenuHeight&&b>=c&&this.megaMenuHeight>=c&&(this.megaMenu.style.setProperty("height",c+"px"),this.megaMenu.style.setProperty("overflow-y","hidden"))},openMenu:function(a){if(a){const b=a.dataset.menu;if(b){this.currentMenu!==b&&this.closeMenu();const c=this.findSibling(b,a);c&&(c.classList.add("menu--active"),this.currentMenu=b,this.resizeMega(c),"mobile"==this.currentType&&this.megaHeader.classList.add("mobile-sub-open"))}}},closeMenu:function(){this.currentMenu="",this.megaHeader.querySelectorAll(".menu--active").forEach(a=>{a.classList.remove("menu--active")}),this.megaHeader.classList.remove("mobile-sub-open"),this.isMobile()&&Number.isInteger(this.megaMenuHeight)?(this.megaMenu.style.setProperty("height",this.megaMenuHeight+"px"),this.megaMenu.style.setProperty("overflow-y","auto")):this.megaMenu.removeAttribute("style")},desktopEvent:function(){this.menuItems.forEach(a=>{const b=a.dataset.menu;b?a.addEventListener("mouseover",this.handlers.mouseover):a.addEventListener("mouseover",this.handlers.mouseleave)}),this.subMenus.forEach(a=>{a.addEventListener("mouseleave",this.handlers.mouseleave)})},mobileEvent:function(){this.menuItems.forEach(a=>{const b=a.dataset.menu;b&&a.addEventListener("click",this.handlers.click)})},handlers:{mouseover:function(a){megaMenu.openMenu(a.target)},mouseleave:function(){megaMenu.closeMenu()},click:function(a){a.preventDefault(),megaMenu.openMenu(a.target)}},isMobile:function(){return 992>window.innerWidth},menuBinding:function(){this.closeMenu(),this.lockBody(!1,!1),this.megaMenuHeight=null,this.isMobile()&&"mobile"!==this.currentType&&(this.menuItems.forEach(a=>{const b=a.dataset.menu;b?a.removeEventListener("mouseover",this.handlers.mouseover):a.removeEventListener("mouseover",this.handlers.mouseleave)}),this.subMenus.forEach(a=>{a.removeEventListener("mouseleave",this.handlers.mouseleave)}),this.currentType="mobile",this.mobileEvent()),this.isMobile()||"desktop"===this.currentType||(this.menuItems.forEach(a=>{a.removeEventListener("click",this.handlers.click)}),this.currentType="desktop",this.desktopEvent())},init:function(){(console.log("Lok\u2019tar Ogar v0.31"),!this.initialized)&&(this.megaHeader=document.querySelector(".mega_navigation"),this.megaHeader&&(this.extraMenu=this.megaHeader.querySelector(".extra_menu"),this.extraMenu&&(this.mobileTarget=this.megaHeader.querySelector(".extra_menu--mobile-target"),this.mobileTarget.innerHTML=this.extraMenu.outerHTML),this.megaMenu=this.megaHeader.querySelector(".mega_menu"),this.menuItems=this.megaHeader.querySelectorAll(".mega_menu__item"),this.subMenus=this.megaHeader.querySelectorAll(".mega_menu__sub_container"),this.overlay=document.createElement("div"),this.overlay.classList.add("mega_navigation__overlay"),this.toggleBtn(),this.backBtn(),this.menuBinding(),window.addEventListener("resize",()=>{this.menuBinding()}),this.initialized=!0))}};document.addEventListener("DOMContentLoaded",()=>{megaMenu.init()});